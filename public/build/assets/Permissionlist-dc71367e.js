import{q as N,r as t,j as s,d as m}from"./app-b5ae46bf.js";import b from"./Mainlayout-def324d5.js";import v from"./FlashMessage-c50d4ba1.js";import{Q as w}from"./index-e5fc484c.js";import{u as P}from"./Sidebar-8b916fbd.js";import"./ThemeConfig-49c8c6b2.js";import"./Footer-25a9ab44.js";import"./Header-aa2b9656.js";import"./Dropdown-7789463b.js";import"./nonIterableRest-c1aee06f.js";import"./Table-db86a91e.js";function E(){const{allPermissions:r,flash:x,base_url:C}=N().props;P();const l=[10,20,30,50,100],[n,d]=t.useState(1),[a,h]=t.useState(l[0]),[i,p]=t.useState(r,"name"),[u,f]=t.useState(i),[o,g]=t.useState(""),[y,j]=t.useState({columnAccessor:"name",direction:"asc"});return t.useEffect(()=>{d(1)},[a]),t.useEffect(()=>{const e=(n-1)*a,c=e+a;f([...i.slice(e,c)])},[n,a,i]),t.useEffect(()=>{p(()=>r.filter(e=>e.permission_name&&e.permission_name.toLowerCase().includes(o.toLowerCase())))},[o]),s.jsxs(s.Fragment,{children:[s.jsx(v,{flash:x}),s.jsxs("div",{className:"panel mt-6",children:[s.jsxs("div",{className:"flex md:items-center flex-col sm:flex-row justify-between mb-5 gap-5",children:[s.jsx("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Permissions"}),s.jsxs("div",{className:"flex md:items-center gap-5",children:[s.jsx("div",{children:s.jsx("input",{type:"text",className:"form-input md:w-auto",placeholder:"Search...",value:o,onChange:e=>g(e.target.value)})}),s.jsx(m,{href:"/admin/permissions/create",method:"get",className:"px-7 py-2 bg-[#ff6243] text-white rounded-md text-[15px]",children:"Add"})]})]}),s.jsx("div",{className:"datatables",children:s.jsx(w,{className:"whitespace-nowrap table-hover",records:u,columns:[{accessor:"permission_name",title:"Name",render:({permission_name:e})=>s.jsx("div",{className:"flex items-center w-max",children:s.jsx("div",{children:e})})},{accessor:"module",title:"Module",render:({module:e})=>s.jsx("div",{className:"flex items-center w-max",children:s.jsx("div",{children:e==null?void 0:e.name})})},{accessor:"action",title:"Action",titleClassName:"!text-center",render:e=>s.jsxs("div",{className:"flex items-center w-max mx-auto gap-2",children:[s.jsx(m,{href:`/admin/permissions/${e.id}/edit`,method:"get",className:"btn btn-sm btn-outline-primary",children:"Edit"}),s.jsx(m,{href:`/admin/permissions/${e.id}/delete`,method:"get",className:"btn btn-sm btn-outline-danger",children:"Delete"})]})}],totalRecords:i.length,recordsPerPage:a,page:n,onPageChange:e=>d(e),recordsPerPageOptions:l,onRecordsPerPageChange:h,onSortStatusChange:j,minHeight:200,paginationText:({from:e,to:c,totalRecords:S})=>`Showing  ${e} to ${c} of ${S} entries`})})]})]})}E.layout=r=>s.jsx(b,{children:r});export{E as default};
