import{q as w,r as s,j as t,d as l}from"./app-de2188b8.js";import"./ThemeConfig-49c8c6b2.js";import b from"./Mainlayout-8e2a0417.js";import v from"./FlashMessage-2dd6f266.js";import{Q as P}from"./index-2e9b143f.js";import{u as C}from"./Sidebar-2eadea10.js";import"./Footer-333a0174.js";import"./Header-12964440.js";import"./Dropdown-6906c21e.js";import"./nonIterableRest-c1aee06f.js";import"./Table-c99497fd.js";function E(){const{users:i,permissions:$,flash:h,base_url:m}=w().props;C();const d=[10,20,30,50,100],[c,x]=s.useState(1),[a,u]=s.useState(d[0]),[n,p]=s.useState(i,"name"),[f,g]=s.useState(n),[o,j]=s.useState(""),[y,S]=s.useState({columnAccessor:"name",direction:"asc"});return s.useEffect(()=>{x(1)},[a]),s.useEffect(()=>{const e=(c-1)*a,r=e+a;g([...n.slice(e,r)])},[c,a,n]),s.useEffect(()=>{p(()=>i.filter(e=>e.first_name&&e.first_name.toLowerCase().includes(o.toLowerCase())||e.email&&e.email.toLowerCase().includes(o.toLowerCase())))},[o]),t.jsxs(t.Fragment,{children:[t.jsx(v,{flash:h}),t.jsxs("div",{className:"panel mt-6",children:[t.jsxs("div",{className:"flex md:items-center flex-col sm:flex-row justify-between mb-5 gap-5",children:[t.jsx("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Modules"}),t.jsxs("div",{className:"flex md:items-center gap-5",children:[t.jsx("div",{children:t.jsx("input",{type:"text",className:"form-input md:w-auto",placeholder:"Search...",value:o,onChange:e=>j(e.target.value)})}),t.jsx(l,{href:`${m}/admin/modules/create`,method:"get",className:"px-7 py-2 bg-[#ff6243] text-white rounded-md text-[15px]",children:"Add"})]})]}),t.jsx("div",{className:"datatables",children:t.jsx(P,{className:"whitespace-nowrap table-hover",records:f,columns:[{accessor:"first_name",title:"Name",render:({first_name:e,last_name:r})=>t.jsx("div",{className:"flex items-center w-max",children:t.jsxs("div",{children:[e," ",r]})})},{accessor:"email",title:"Name",render:({email:e})=>t.jsx("div",{className:"flex items-center w-max",children:t.jsx("div",{children:e})})},{accessor:"action",title:"Action",titleClassName:"!text-center",render:e=>t.jsxs("div",{className:"flex items-center w-max mx-auto gap-2",children:[t.jsx(l,{href:`${m}/admin/users/${e.id}/edit`,method:"get",className:"btn btn-sm btn-outline-primary ",children:"Edit"}),t.jsx(l,{href:`/admin/users/${e.id}/delete`,method:"get",className:"btn btn-sm btn-outline-danger",children:"Delete"})]})}],totalRecords:n.length,recordsPerPage:a,page:c,onPageChange:e=>x(e),recordsPerPageOptions:d,onRecordsPerPageChange:u,onSortStatusChange:S,minHeight:200,paginationText:({from:e,to:r,totalRecords:N})=>`Showing  ${e} to ${r} of ${N} entries`})})]})]})}E.layout=i=>t.jsx(b,{children:i});export{E as default};
